webpackJsonp([1],{"5cyz":function(t,e){},"5nf/":function(t,e){},NHnr:function(t,e,s){"use strict";function a(t){s("shOq")}function n(t){s("5cyz")}function r(t){s("5nf/")}function i(t){s("qNyK")}function c(t){s("fz8M")}Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),l={name:"app",data:function(){return{title:"骑手审核"}}},u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("h4",{attrs:{id:"title"}},[t._v(t._s(t.title))]),t._v(" "),s("router-view")],1)},h=[],v={render:u,staticRenderFns:h},p=v,d=s("VU/8"),m=a,f=d(l,p,!1,m,"data-v-1e52db08",null),_=f.exports,C=s("/ocq"),g={name:"HelloWorld",data:function(){return{msg:"您正在参与广州途客[广州]猎德站站的骑手审核，请正确填写并提交一下表格，以免耽误入职进度",code:"",inputCode:"",nameAlert:"none",phoneAlert:"none",idcartAlert:"none",codeAlert:"none",timeout:"none",valSucess:"none",valMarklayer:"none",inputName:!1,inputPhone:!1,inputID:!1,inputVeri:!1,originTime:"",verificationCode:"",dataUrl:"",user:{name:"",phoneNumber:"",IDCartNumber:""}}},methods:{sureSubmit:function(){this.valMarklayer="none",this.valSucess="none",this.user={},this.inputCode="",this.getVerificationCode()},submitInfo:function(){var t=this;if(this.checkCode()){parseInt(new Date-this.originTime)/1e3<50?this.$http({url:"/user/new",method:"POST",params:{user:this.user}}).then(function(e){t.valSucess="",t.valMarklayer="";var s=e.data;console.log("heolo"+s)}):this.timeout=""}},checkUserName:function(){var t=/^[\u4e00-\u9fa5]+(·[\u4e00-\u9fa5]+)*$/,e=this.user.name,s=$("#username");e.length<=0||!t.test(e)?(s.focus(),s.css("color","#ec150e"),this.nameAlert=""):(this.inputName=!0,s.blur(),s.css("color","#000"),this.nameAlert="none")},checkPhoneNumber:function(){var t=/^1[3|4|5|7|8][0-9]{9}$/,e=this.user.phoneNumber,s=$("#userphone");e.length<11||!t.test(e)?(s.focus(),s.css("color","#ec150e"),this.phoneAlert=""):(this.inputPhone=!0,s.blur(),s.css("color","#000"),this.phoneAlert="none")},checkIDCartNumber:function(){var t=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,e=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/,s=$("#userIDnumber"),a=this.user.IDCartNumber;t.test(a)||e.test(a)?(this.inputID=!0,s.blur(),s.css("color","#000"),this.idcartAlert="none"):(s.focus(),s.css("color","#ec150e"),this.idcartAlert="")},checkVeriCode:function(){var t=this.inputCode.toLowerCase(),e=this.verificationCode.toLowerCase(),s=$("#verification");e!=t?(s.focus(),s.css("color","#ec150e"),this.codeAlert=""):(this.inputVeri=!0,s.blur(),s.css("color","#000"),this.codeAlert="none")},checkCode:function(){if(this.inputName)if(this.inputPhone)if(this.inputID){if(this.inputVeri)return!0;this.checkVeriCode()}else this.checkIDCartNumber();else this.checkPhoneNumber();else this.checkUserName()},getVerificationCode:function(){var t=this;this.timeout="none",this.$http({url:"/user/Verification",method:"GET",headers:{"Content-Type":"image/bmp"}}).then(function(e){t.verificationCode=e.data.str,t.dataUrl=e.data.url.toString("base64"),t.originTime=new Date,console.log(t.verificationCode)})}},mounted:function(){this.getVerificationCode()}},b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"identity"},[s("router-link",{attrs:{to:"/search"}},[t._v("Go to search")]),t._v(" "),s("div",{staticClass:"message"},[s("p",[t._v(t._s(t.msg))])]),t._v(" "),s("div",{staticClass:"form-data"},[s("div",{staticClass:"wrap"},[t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"input_wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text",id:"username"},domProps:{value:t.user.name},on:{blur:function(e){t.checkUserName()},input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),t._v(" "),s("span",{staticClass:"dangerInfo",style:{display:t.nameAlert}},[t._v("请输入正确的姓名！")])])]),t._v(" "),s("div",{staticClass:"wrap"},[t._m(1,!1,!1),t._v(" "),s("div",{staticClass:"input_wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phoneNumber,expression:"user.phoneNumber"}],attrs:{type:"text",id:"userphone"},domProps:{value:t.user.phoneNumber},on:{blur:function(e){t.checkPhoneNumber()},input:function(e){e.target.composing||t.$set(t.user,"phoneNumber",e.target.value)}}}),t._v(" "),s("span",{staticClass:"dangerInfo",style:{display:t.phoneAlert}},[t._v("请输入正确的手机号码！")])])]),t._v(" "),s("div",{staticClass:"wrap"},[t._m(2,!1,!1),t._v(" "),s("div",{staticClass:"input_wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.IDCartNumber,expression:"user.IDCartNumber"}],attrs:{type:"text",id:"userIDnumber"},domProps:{value:t.user.IDCartNumber},on:{blur:function(e){t.checkIDCartNumber()},input:function(e){e.target.composing||t.$set(t.user,"IDCartNumber",e.target.value)}}}),t._v(" "),s("span",{staticClass:"dangerInfo",style:{display:t.idcartAlert}},[t._v("请输入正确的身份证号码！")])])]),t._v(" "),s("div",{staticClass:"wrap"},[t._m(3,!1,!1),t._v(" "),s("div",{staticClass:"input_wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputCode,expression:"inputCode"}],attrs:{type:"text",id:"verification"},domProps:{value:t.inputCode},on:{blur:function(e){t.checkVeriCode()},input:function(e){e.target.composing||(t.inputCode=e.target.value)}}}),t._v(" "),s("span",{staticClass:"dangerInfo",style:{display:t.codeAlert}},[t._v("请输入正确的验证码！")]),t._v(" "),s("span",{staticClass:"dangerInfo",style:{display:t.timeout}},[t._v("验证码已过期请重新输入")]),t._v(" "),s("div",{staticClass:"yanzhengma",on:{click:t.getVerificationCode}},[s("img",{attrs:{src:t.dataUrl,alt:""}})])])])]),t._v(" "),s("div",{staticClass:"submit-btn"},[s("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.submitInfo}},[t._v("提交")])]),t._v(" "),s("div",{staticClass:"sucessMes",style:{display:t.valSucess}},[s("p",[t._v("成功录入")]),t._v(" "),s("span",{on:{click:t.sureSubmit}},[t._v("确定")])]),t._v(" "),s("div",{staticClass:"marsklayer",style:{display:t.valMarklayer}})],1)},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-name",attrs:{for:""}},[t._v("姓名"),s("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-name",attrs:{for:""}},[t._v("手机号"),s("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-name",attrs:{for:""}},[t._v("身份证号码"),s("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"text-name",attrs:{for:""}},[t._v("验证码"),s("span",{staticStyle:{color:"#fff"}},[t._v("*")])])}],N={render:b,staticRenderFns:y},k=N,x=s("VU/8"),w=n,I=x(g,k,!1,w,"data-v-10043771",null),D=I.exports,P={name:"searchVue",data:function(){return{searchResult:[],searchName:"",errInfo:""}},methods:{search:function(){var t=this;this.searchResult=[],this.$http({url:"/user/admin/search",method:"GET",params:{userName:this.searchName}}).then(function(e){""==e.data?(t.errInfo="查无此人，请重新输入！",$(".search-frame").focus()):(t.searchResult.push(e.data),console.log(t.searchResult.length))})}}},T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-container"},[s("h4",{staticClass:"search-title"},[t._v("审核结果搜索")]),t._v(" "),s("div",{staticClass:"search-content"},[s("div",{staticClass:"search-nav"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"search-frame",attrs:{type:"text"},domProps:{value:t.searchName},on:{input:function(e){e.target.composing||(t.searchName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"search-btn btn btn-info",on:{click:t.search}},[t._v("搜索")])]),t._v(" "),t.searchResult.length>0?s("div",{staticClass:"search-result"},[t._m(0,!1,!1),t._v(" "),t._l(t.searchResult,function(e){return s("div",[s("div",{staticClass:"userName"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"userState"},[t._v(t._s(e.state))])])})],2):t._e(),t._v(" "),s("div",{staticClass:"errInfo"},[t._v("\n            "+t._s(t.errInfo)+"\n        ")])])])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search_head"},[s("div",{staticClass:"userName"},[t._v("姓名")]),t._v(" "),s("div",{staticClass:"userState"},[t._v("审核结果")])])}],S={render:T,staticRenderFns:A},V=S,E=s("VU/8"),F=r,R=E(P,V,!1,F,"data-v-fd3d228e",null),U=R.exports,M={data:function(){return{current:this.currentPage}},props:{total:{type:Number,default:0},currentPage:{type:Number,default:1},pagegroup:{type:Number,default:3,coerce:function(t){return t=t>0?t:3,t%2==1?t:t+1}}},computed:{page:function(){return this.total},grouplist:function(){var t=this.page,e=[],s=[],a=Math.floor(this.pagegroup/2),n=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var r=e.indexOf(n);r<a&&(n=n+a-r),this.current>this.page-a&&(n=this.page-a),e=e.splice(n-a-1,this.pagegroup);do{var i=e.shift();s.push({text:i,val:i})}while(e.length);return this.page>this.pagegroup&&(this.current>a+1&&s.unshift({text:"...",val:s[0].val-1}),this.current<this.page-a&&s.push({text:"...",val:s[s.length-1].val+1})),s}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.$emit("pagechange",this.current))}}},G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("ul",{staticClass:"pagination"},[s("li",{class:{disabled:1==t.current}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" « ")])]),t._v(" "),s("li",{class:{disabled:1==t.current}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" 首页 ")])]),t._v(" "),t._l(t.grouplist,function(e){return s("li",{class:{active:t.current==e.val}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.setCurrent(e.val)}}},[t._v(" "+t._s(e.text)+" ")])])}),t._v(" "),s("li",{class:{disabled:t.current==t.page}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" 尾页 ")])]),t._v(" "),s("li",{class:{disabled:t.current==t.page}},[s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v(" »")])])],2)])},j=[],O={render:G,staticRenderFns:j},q=O,z=s("VU/8"),H=i,W=z(M,q,!1,H,"data-v-c85a4508",null),L=W.exports,K={data:function(){return{valDisplay:"none",valConfirm:"none",valMarklayer:"none",choice:"待审核",curUserName:"",searchName:"",not_research:"",had_research:"none",passText:"",users:[],searchResult:[],curTarget:"",total:0,curPage:1}},methods:{showDisplayInfo:function(t){this.curTarget=t;var e=$(t.target).parent().siblings()[0],s=$(e);"none"===s.css("display")?s.css("display",""):s.css("display","none")},showConfirmFrame:function(t,e){var s=$(t.target).parent().siblings()[0],a=$(s);this.curUserName=a.text(),this.valConfirm="",this.valMarklayer="",this.passText="pass"==e?"通过":"不通过"},closeConfirmFrame:function(){this.valConfirm="none",this.valMarklayer="none"},confirmInfo:function(t,e){var s=this;this.$http({url:"/user/admin/update",method:"POST",params:{userName:t,state:e,originstate:this.choice}}).then(function(t){s.users=t.data.users,s.total=t.data.totalPage,s.curPage=1,s.closeConfirmFrame()})},selectChoice:function(t){var e=this,s=this;s.not_research="",s.had_research="none",s.choice=$(t.target).text(),$(t.target).siblings().removeClass("current"),$(t.target).addClass("current"),s.$http({url:"/user/admin",method:"GET",params:{state:s.choice}}).then(function(t){s.users=t.data.users,e.total=t.data.totalPage,e.curPage=1,e.clickChild()})},search:function(){var t=this;this.searchResult=[],this.not_research="none",this.had_research="",$(".list-head").children().removeClass("current"),this.$http({url:"/user/admin/search",method:"GET",params:{userName:this.searchName}}).then(function(e){t.searchResult.push(e.data)})},pagechange:function(t){var e=this;console.log("当前是第"+t+"页"),this.$http({url:"/user/admin",method:"GET",params:{state:this.choice,p:t-1}}).then(function(t){e.users=t.data.users,e.showDisplayInfo(e.curTarget)})},clickChild:function(){this.$refs.child.setCurrent(1)}},mounted:function(){var t=this;this.$http({url:"/user/admin",method:"GET",params:{state:"待审核"}}).then(function(e){t.users=e.data.users,t.total=e.data.totalPage})},components:{"v-pagination":L}},J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-container"},[s("h4",{staticClass:"search-title"},[t._v("审核管理")]),t._v(" "),s("div",{staticClass:"search-content"},[s("div",{staticClass:"search-nav"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"search-frame",attrs:{type:"text",placeholder:"请输入名字"},domProps:{value:t.searchName},on:{input:function(e){e.target.composing||(t.searchName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"search-btn",on:{click:t.search}},[t._v("搜索")])]),t._v(" "),s("div",{staticClass:"search-result"},[s("div",{staticClass:"list-head"},[s("span",{staticClass:"admin-text current",on:{click:function(e){t.selectChoice(e)}}},[t._v("待审核")]),t._v(" "),s("span",{staticClass:"state-text",on:{click:function(e){t.selectChoice(e)}}},[t._v("不通过")]),t._v(" "),s("span",{staticClass:"user-text",on:{click:function(e){t.selectChoice(e)}}},[t._v("通过")])]),t._v(" "),s("div",{staticClass:"userList"},[t._l(t.users,function(e,a){return s("div",{staticClass:"userContainer",style:{display:t.not_research}},[s("div",{staticClass:"diplay-info"},[s("span",{staticClass:"userName",on:{click:function(e){t.showDisplayInfo(e)}}},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"state"},[t._v(t._s(e.state))]),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"admin-btn",staticStyle:{"background-color":"#bce8f1"},on:{click:function(e){t.showConfirmFrame(e,"pass")}}},[t._v("通过")]),t._v(" "),s("span",{staticClass:"admin-btn",on:{click:function(e){t.showConfirmFrame(e,"nopass")}}},[t._v("不通过")])])]),t._v(" "),s("div",{staticClass:"user-info",style:{display:t.valDisplay}},[s("p",[t._v("手机号码："+t._s(e.phoneNumber))]),t._v(" "),s("p",[t._v("身份证号："+t._s(e.IDCartNumber))])])])}),t._v(" "),t._l(t.searchResult,function(e){return s("div",{staticClass:"userContainer",style:{display:t.had_research}},[s("div",{staticClass:"diplay-info"},[s("span",{staticClass:"userName",on:{click:function(e){t.showDisplayInfo(e)}}},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"state"},[t._v(t._s(e.state))]),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"admin-btn",staticStyle:{"background-color":"#bce8f1"},on:{click:function(e){t.showConfirmFrame(e,"pass")}}},[t._v("通过")]),t._v(" "),s("span",{staticClass:"admin-btn",on:{click:function(e){t.showConfirmFrame(e,"nopass")}}},[t._v("不通过")])])]),t._v(" "),s("div",{staticClass:"user-info",style:{display:t.valDisplay}},[s("p",[t._v("手机号码："+t._s(e.phoneNumber))]),t._v(" "),s("p",[t._v("身份证号："+t._s(e.IDCartNumber))])])])}),t._v(" "),s("v-pagination",{ref:"child",attrs:{total:t.total,"current-page":t.curPage},on:{pagechange:t.pagechange}})],2),t._v(" "),s("div",{staticClass:"confirmFrame",style:{display:t.valConfirm}},[s("div",{staticClass:"confirm-wrap"},[s("span",{staticClass:"close",on:{click:t.closeConfirmFrame}},[t._v("关闭")]),t._v(" "),s("p",[t._v("确定让"+t._s(t.curUserName)+t._s(t.passText)+"吗")]),t._v(" "),s("span",{staticClass:"btnConfirm",staticStyle:{"background-color":"#5bc0de"},on:{click:function(e){t.confirmInfo(t.curUserName,t.passText)}}},[t._v("确定")]),t._v(" "),s("span",{staticClass:"btnConfirm",staticStyle:{"background-color":"#ddd"},on:{click:t.closeConfirmFrame}},[t._v("取消")])])])])]),t._v(" "),s("div",{staticClass:"marsklayer",style:{display:t.valMarklayer}})])},B=[],Q={render:J,staticRenderFns:B},X=Q,Y=s("VU/8"),Z=c,tt=Y(K,X,!1,Z,"data-v-771c2415",null),et=tt.exports;o.a.use(C.a);var st=new C.a({routes:[{path:"/",name:"HelloWorld",component:D},{path:"/search",name:"searchVue",component:U},{path:"/admin",name:"admin",component:et}]}),at=s("mtWM"),nt=s.n(at);o.a.prototype.$http=nt.a,o.a.config.productionTip=!1,new o.a({el:"#app",router:st,template:"<App/>",components:{App:_}})},fz8M:function(t,e){},qNyK:function(t,e){},shOq:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2df3c46fb0c119aba9c5.js.map